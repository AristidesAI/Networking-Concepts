<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network & VMware Interview Master</title>
    <style>
        :root {
            --primary: #4f46e5; /* Indigo */
            --primary-dark: #3730a3;
            --secondary: #64748b;
            --bg: #f1f5f9;
            --card-bg: #ffffff;
            --text: #1e293b;
            --success: #22c55e;
            --error: #ef4444;
            --border: #e2e8f0;
            --vmware: #f59e0b; /* Orange for VMware tag */
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        h1 { margin: 0; color: var(--primary-dark); font-size: 2.2rem; }
        .subtitle { color: var(--secondary); margin-top: 5px; }

        /* Navigation Tabs */
        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 10px 24px;
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            color: var(--secondary);
            transition: all 0.2s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .tab-btn:hover { background: #f8fafc; transform: translateY(-1px); }
        .tab-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.3);
        }

        /* Views */
        .view-section { display: none; animation: fadeIn 0.3s ease-in-out; }
        .view-section.active { display: block; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* Study List Styles */
        .study-controls {
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        .qa-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border-left: 4px solid var(--primary);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        /* VMware specific styling */
        .qa-card[data-cat="Virtualization & VMware"] { border-left-color: var(--vmware); }

        .qa-card:hover { transform: translateX(5px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .qa-q { font-weight: 700; font-size: 1.1rem; display: flex; justify-content: space-between; align-items: center; }
        .qa-a { margin-top: 15px; padding-top: 15px; border-top: 1px dashed var(--border); display: none; color: #475569; }
        .qa-card.open .qa-a { display: block; }
        
        .tag { 
            font-size: 0.75rem; 
            background: #e0e7ff; 
            color: var(--primary); 
            padding: 2px 8px; 
            border-radius: 4px; 
            margin-right: 10px; 
            text-transform: uppercase;
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        
        .tag.vmware { background: #ffedd5; color: #c2410c; } /* Orange for VMware */

        /* Quiz Styles */
        .quiz-container {
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s; }

        .question-text { font-size: 1.3rem; font-weight: 700; margin-bottom: 25px; color: var(--text); }
        
        .options-grid { display: grid; gap: 12px; }
        
        .option-btn {
            background: white;
            border: 2px solid var(--border);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
            text-align: left;
            position: relative;
        }

        .option-btn:hover:not(.disabled) { border-color: var(--primary); background: #f8fafc; }
        
        .option-btn.correct { background: #dcfce7; border-color: var(--success); color: #14532d; }
        .option-btn.wrong { background: #fee2e2; border-color: var(--error); color: #7f1d1d; opacity: 0.7; }
        .option-btn.disabled { cursor: default; pointer-events: none; }

        .quiz-feedback { margin-top: 20px; font-weight: bold; min-height: 24px; }
        .btn-next {
            margin-top: 20px;
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            display: none;
        }

        /* Leaderboard */
        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
        }
        .leaderboard-table th, .leaderboard-table td { padding: 15px; text-align: left; border-bottom: 1px solid var(--border); }
        .leaderboard-table th { background: #f8fafc; font-weight: 600; }
        .rank-1 { color: #ca8a04; font-weight: bold; } /* Gold */
        .rank-2 { color: #94a3b8; font-weight: bold; } /* Silver */
        .rank-3 { color: #b45309; font-weight: bold; } /* Bronze */

        /* Results Screen */
        .results-screen { text-align: center; display: none; }
        .score-circle {
            width: 120px; height: 120px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            margin: 0 auto 20px;
        }
        .input-group { margin: 20px 0; }
        input[type="text"] { padding: 10px; border: 1px solid var(--border); border-radius: 6px; width: 200px; font-size: 1rem; }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Network Interview Master</h1>
        <p class="subtitle">Includes: Virtualization, VRFs, VMware & General Networking</p>
    </header>

    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('study')">üìñ Study Mode</button>
        <button class="tab-btn" onclick="switchTab('quiz')">‚ö° Quiz Mode</button>
        <button class="tab-btn" onclick="switchTab('leaderboard')">üèÜ Leaderboard</button>
    </div>

    <div id="study" class="view-section active">
        <div class="study-controls">
            <select id="categoryFilter" style="padding: 10px; border-radius: 6px; border: 1px solid #ccc; font-size:1rem;">
                <option value="all">All Concepts</option>
                <option value="Virtualization & VMware">‚òÅÔ∏è VMware & Virtualization (New)</option>
                <option value="High Priority">üî• High Priority</option>
                <option value="Ports">üîå Ports & Protocols</option>
                <option value="Networking Basics">üìö Basics</option>
                <option value="Advanced">üöÄ Advanced Routing</option>
            </select>
        </div>
        <div id="studyList">
            </div>
    </div>

    <div id="quiz" class="view-section">
        <div id="quizStart" style="text-align: center;">
            <h2>Test Your Knowledge</h2>
            <p>15 Random Questions drawn from the entire database (Networking + VMware).</p>
            <button class="btn-next" style="display: inline-block;" onclick="startQuiz()">Start Quiz</button>
        </div>

        <div id="quizGame" style="display: none;" class="quiz-container">
            <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
            <div id="qCategory" class="tag" style="display: inline-block; margin-bottom: 10px;">Category</div>
            <div class="question-text" id="qText">Question goes here...</div>
            <div class="options-grid" id="optionsGrid">
                </div>
            <div class="quiz-feedback" id="feedback"></div>
            <button class="btn-next" id="nextBtn" onclick="nextQuestion()">Next Question</button>
        </div>

        <div id="quizResults" class="results-screen">
            <div class="score-circle" id="finalScore">0/10</div>
            <h2>Quiz Complete!</h2>
            <p>Enter your name to save your score to the local leaderboard.</p>
            <div class="input-group">
                <input type="text" id="playerName" placeholder="Your Name" maxlength="15">
                <button class="tab-btn" style="background: var(--success); color: white; border: none;" onclick="saveScore()">Save Score</button>
            </div>
            <button class="tab-btn" onclick="startQuiz()">Try Again</button>
        </div>
    </div>

    <div id="leaderboard" class="view-section">
        <h2 style="text-align: center;">Local Hall of Fame</h2>
        <table class="leaderboard-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Name</th>
                    <th>Score</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody id="leaderboardBody">
                </tbody>
        </table>
        <p style="text-align: center; color: #94a3b8; font-size: 0.9rem; margin-top: 20px;">
            *Scores are stored in your browser's local storage.
        </p>
    </div>

</div>

<script>
    // --- DATA ---
    // Expanded with Virtualization and VMware concepts
    const db = [
        // --- VIRTUALIZATION & VMWARE (NEW) ---
        {
            cat: "Virtualization & VMware",
            q: "What is a VRF (Virtual Routing and Forwarding)?",
            a: "It allows a single physical router to host multiple, isolated routing tables. It is like a 'VLAN for Layer 3', allowing overlapping IP addresses on the same router.",
            opts: ["Virtual Routing Table (L3 Segmentation)", "Virtual Switch (L2 Segmentation)", "A type of Firewall Rule", "VMware Recovery File"]
        },
        {
            cat: "Virtualization & VMware",
            q: "What is a vSwitch (Standard Switch)?",
            a: "A software-based switch residing on a single ESXi host. It connects VMs to physical NICs (uplinks) and to each other locally.",
            opts: ["A software switch on one host", "A physical Cisco switch", "A switch spanning multiple hosts", "A routing protocol"]
        },
        {
            cat: "Virtualization & VMware",
            q: "What is a vDS (Distributed Switch)?",
            a: "A virtual switch that spans multiple ESXi hosts, managed centrally from vCenter. It provides consistent configuration across the cluster.",
            opts: ["A switch spanning multiple hosts", "A switch on a single host", "A physical router", "A storage protocol"]
        },
        {
            cat: "Virtualization & VMware",
            q: "What is a Port Group?",
            a: "A template of configuration policies (VLAN IDs, traffic shaping, security) applied to a group of virtual ports. VMs connect to Port Groups.",
            opts: ["Configuration template (VLANs/Policies)", "A group of physical cables", "A collection of Hard Drives", "A type of CPU core"]
        },
        {
            cat: "Virtualization & VMware",
            q: "What is a VMkernel Port (vmk)?",
            a: "A specialized virtual interface used by the ESXi host for system traffic, such as vMotion, iSCSI storage, NFS, and Management.",
            opts: ["Interface for Host Traffic (vMotion/iSCSI)", "Interface for VM data traffic", "A physical USB port", "The BIOS of the VM"]
        },
        {
            cat: "Virtualization & VMware",
            q: "What is a vmnic?",
            a: "The physical network adapter (uplink) on the ESXi host server.",
            opts: ["Physical Uplink on Host", "Virtual Adapter inside VM", "The vCenter Server", "A Virtual Router"]
        },
        {
            cat: "Virtualization & VMware",
            q: "Difference between VST, EST, and VGT?",
            a: "Modes of VLAN Tagging: VST (Virtual Switch Tagging) happens at vSwitch. EST (External Switch Tagging) happens at physical switch. VGT (Virtual Guest Tagging) happens inside the VM OS.",
            opts: ["VLAN Tagging modes", "Routing protocols", "Storage types", "Power management modes"]
        },
        {
            cat: "Virtualization & VMware",
            q: "What is Promiscuous Mode in a vSwitch?",
            a: "A security setting that allows a virtual NIC to see all traffic traversing the switch, not just traffic meant for its MAC address. Used for packet sniffing or nested virtualization.",
            opts: ["Allows seeing all traffic on switch", "Blocks all traffic", "Accelerates file transfers", "Disables the firewall"]
        },
        {
            cat: "Virtualization & VMware",
            q: "What is vMotion?",
            a: "The ability to migrate a running Virtual Machine from one physical host to another with zero downtime.",
            opts: ["Live migration of VM between hosts", "Moving storage between drives", "Rebooting a VM", "Backing up a VM"]
        },
        {
            cat: "Virtualization & VMware",
            q: "What is VXLAN?",
            a: "A network virtualization technology that encapsulates Layer 2 Ethernet frames within Layer 3 UDP packets, allowing L2 segments to span across L3 networks (basis of NSX).",
            opts: ["Encapsulating L2 inside L3", "A new type of physical cable", "A routing table", "Wireless encryption"]
        },

        // --- HIGH PRIORITY ---
        { 
            cat: "High Priority", 
            q: "What is 127.0.0.1?", 
            a: "Loopback Address (Localhost). Used to test the network card.", 
            opts: ["Loopback Address", "Default Gateway", "Broadcast Address", "APIPA Address"]
        },
        { 
            cat: "High Priority", 
            q: "What is 169.254.x.x?", 
            a: "APIPA (Automatic Private IP). Assigned when DHCP fails.", 
            opts: ["APIPA (DHCP Fail)", "Public IP", "Class A Private IP", "Multicast Address"]
        },
        { 
            cat: "High Priority", 
            q: "What is the broadcast address for 192.168.1.0/24?", 
            a: "192.168.1.255. It targets all devices on that subnet.", 
            opts: ["192.168.1.255", "192.168.1.1", "192.168.1.0", "255.255.255.0"]
        },
        { 
            cat: "High Priority", 
            q: "Layer 2 vs Layer 3 separation?", 
            a: "VLANs separate at Layer 2 (Switch). Subnets separate at Layer 3 (IP/Router).", 
            opts: ["VLAN = L2, Subnet = L3", "VLAN = L3, Subnet = L2", "Both are L2", "Both are L3"]
        },

        // --- PORTS & PROTOCOLS ---
        { cat: "Ports", q: "Port 22 is used for?", a: "SSH (Secure Shell) - Secure remote login.", opts: ["SSH", "Telnet", "FTP", "HTTP"] },
        { cat: "Ports", q: "Port 23 is used for?", a: "Telnet - Unencrypted remote login.", opts: ["Telnet", "SSH", "SMTP", "DNS"] },
        { cat: "Ports", q: "Port 53 is used for?", a: "DNS (Domain Name System).", opts: ["DNS", "DHCP", "HTTP", "SNMP"] },
        { cat: "Ports", q: "Port 80 is used for?", a: "HTTP - Unsecured Web Traffic.", opts: ["HTTP", "HTTPS", "FTP", "POP3"] },
        { cat: "Ports", q: "Port 443 is used for?", a: "HTTPS - Secured Web Traffic.", opts: ["HTTPS", "HTTP", "RDP", "IMAP"] },
        { cat: "Ports", q: "Port 3389 is used for?", a: "RDP (Remote Desktop Protocol).", opts: ["RDP", "SSH", "LDAP", "SQL"] },

        // --- BASICS ---
        { 
            cat: "Networking Basics", 
            q: "What is a '3-Way Handshake'?", 
            a: "SYN, SYN-ACK, ACK. The process TCP uses to establish a connection.", 
            opts: ["SYN, SYN-ACK, ACK", "SYN, ACK, FIN", "Connect, Accept, Send", "Hello, Hi, Ack"]
        },
        { 
            cat: "Networking Basics", 
            q: "Which protocol is Connectionless?", 
            a: "UDP (User Datagram Protocol). Fast but unreliable.", 
            opts: ["UDP", "TCP", "HTTP", "FTP"]
        },
        { 
            cat: "Networking Basics", 
            q: "Difference between Hub and Switch?", 
            a: "Hub broadcasts to all ports (dumb). Switch sends only to destination MAC (smart).", 
            opts: ["Hub=Broadcast, Switch=Unicast", "Hub=Unicast, Switch=Broadcast", "Hub is L3, Switch is L2", "No difference"]
        },

        // --- ADVANCED ---
        { 
            cat: "Advanced", 
            q: "What is a /30 subnet typically used for?", 
            a: "Point-to-Point links (only 2 usable hosts).", 
            opts: ["Point-to-Point links", "Large Offices", "Home WiFi", "The Internet"]
        },
        { 
            cat: "Advanced", 
            q: "How does a Router determine the path?", 
            a: "Routing Table (Longest Prefix Match).", 
            opts: ["Routing Table", "MAC Table", "ARP Cache", "DNS Query"]
        },
        {
            cat: "Advanced",
            q: "What is a 'Trunk' port?",
            a: "A port that carries traffic for multiple VLANs using tagging (802.1q).",
            opts: ["Carries multiple VLANs", "Connects to ISP", "Only for Voice traffic", "Power over Ethernet"]
        }
    ];

    // --- APP LOGIC ---

    // 1. Initialization
    document.addEventListener('DOMContentLoaded', () => {
        renderStudyList('all');
        loadLeaderboard();

        // Filter Listener
        document.getElementById('categoryFilter').addEventListener('change', (e) => {
            renderStudyList(e.target.value);
        });
    });

    function switchTab(tabId) {
        document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
        
        document.getElementById(tabId).classList.add('active');
        const btns = document.querySelectorAll('.tab-btn');
        if(tabId === 'study') btns[0].classList.add('active');
        if(tabId === 'quiz') btns[1].classList.add('active');
        if(tabId === 'leaderboard') btns[2].classList.add('active');
    }

    // 2. Study Mode Logic
    function renderStudyList(filter) {
        const list = document.getElementById('studyList');
        list.innerHTML = '';
        
        const filtered = filter === 'all' ? db : db.filter(item => item.cat === filter);

        if(filtered.length === 0) {
            list.innerHTML = '<p style="text-align:center; color:#888;">No questions in this category.</p>'; 
            return; 
        }

        filtered.forEach(item => {
            const card = document.createElement('div');
            card.className = 'qa-card';
            card.setAttribute('data-cat', item.cat); // For CSS targeting
            card.onclick = () => card.classList.toggle('open');
            
            // Special styling for VMware tag
            const tagClass = item.cat === "Virtualization & VMware" ? "tag vmware" : "tag";

            card.innerHTML = `
                <div class="qa-q">
                    <span><span class="${tagClass}">${item.cat}</span> ${item.q}</span>
                    <span style="color:var(--primary)">+</span>
                </div>
                <div class="qa-a">${item.a}</div>
            `;
            list.appendChild(card);
        });
    }

    // 3. Quiz Mode Logic
    let currentQuiz = [];
    let qIndex = 0;
    let score = 0;
    let canClick = true;
    const QUIZ_LENGTH = 15;

    function startQuiz() {
        qIndex = 0;
        score = 0;
        document.getElementById('quizStart').style.display = 'none';
        document.getElementById('quizResults').style.display = 'none';
        document.getElementById('quizGame').style.display = 'block';

        // Shuffle DB and take questions
        const shuffled = [...db].sort(() => 0.5 - Math.random());
        currentQuiz = shuffled.slice(0, QUIZ_LENGTH); 

        loadQuestion();
    }

    function loadQuestion() {
        canClick = true;
        const q = currentQuiz[qIndex];
        
        // UI Updates
        const catEl = document.getElementById('qCategory');
        catEl.textContent = q.cat;
        catEl.className = q.cat === "Virtualization & VMware" ? "tag vmware" : "tag";

        document.getElementById('qText').textContent = q.q;
        document.getElementById('feedback').textContent = '';
        document.getElementById('nextBtn').style.display = 'none';
        
        // Progress Bar
        const pct = ((qIndex) / QUIZ_LENGTH) * 100;
        document.getElementById('progressFill').style.width = `${pct}%`;

        // Generate Options
        const grid = document.getElementById('optionsGrid');
        grid.innerHTML = '';

        let answers = q.opts.map(opt => ({ text: opt, isCorrect: opt === q.opts[0] }));
        answers.sort(() => 0.5 - Math.random()); // Randomize option order

        answers.forEach(ans => {
            const btn = document.createElement('div');
            btn.className = 'option-btn';
            btn.textContent = ans.text;
            btn.onclick = () => checkAnswer(btn, ans.isCorrect);
            grid.appendChild(btn);
        });
    }

    function checkAnswer(btn, isCorrect) {
        if(!canClick) return;
        canClick = false;

        const allBtns = document.querySelectorAll('.option-btn');
        allBtns.forEach(b => b.classList.add('disabled'));

        if(isCorrect) {
            btn.classList.add('correct');
            document.getElementById('feedback').innerHTML = `<span style="color:var(--success)">Correct!</span> ${currentQuiz[qIndex].a}`;
            score++;
        } else {
            btn.classList.add('wrong');
            // Find correct one
            allBtns.forEach(b => {
                 if (b.textContent === currentQuiz[qIndex].opts[0]) b.classList.add('correct');
            });
            document.getElementById('feedback').innerHTML = `<span style="color:var(--error)">Wrong!</span> ${currentQuiz[qIndex].a}`;
        }

        document.getElementById('nextBtn').style.display = 'inline-block';
    }

    function nextQuestion() {
        qIndex++;
        if(qIndex < currentQuiz.length) {
            loadQuestion();
        } else {
            showResults();
        }
    }

    function showResults() {
        document.getElementById('quizGame').style.display = 'none';
        document.getElementById('quizResults').style.display = 'block';
        document.getElementById('finalScore').textContent = `${score}/${QUIZ_LENGTH}`;
    }

    // 4. Leaderboard Logic (Local Storage)
    function saveScore() {
        const name = document.getElementById('playerName').value.trim() || "Anonymous";
        const date = new Date().toLocaleDateString();
        
        const newEntry = { name, score, date, max: QUIZ_LENGTH };
        
        let lb = JSON.parse(localStorage.getItem('net_vmware_leaderboard')) || [];
        lb.push(newEntry);
        lb.sort((a,b) => b.score - a.score);
        localStorage.setItem('net_vmware_leaderboard', JSON.stringify(lb));
        
        switchTab('leaderboard');
        loadLeaderboard();
    }

    function loadLeaderboard() {
        const tbody = document.getElementById('leaderboardBody');
        tbody.innerHTML = '';
        
        const lb = JSON.parse(localStorage.getItem('net_vmware_leaderboard')) || [];
        
        if(lb.length === 0) {
            tbody.innerHTML = '<tr><td colspan="4" style="text-align:center">No scores yet. Be the first!</td></tr>';
            return;
        }

        lb.forEach((entry, index) => {
            const tr = document.createElement('tr');
            let rankClass = '';
            if(index === 0) rankClass = 'rank-1';
            if(index === 1) rankClass = 'rank-2';
            if(index === 2) rankClass = 'rank-3';

            const maxScore = entry.max || 15; // Backwards compatibility if max changes

            tr.innerHTML = `
                <td class="${rankClass}">#${index + 1}</td>
                <td style="font-weight:600">${entry.name}</td>
                <td>${entry.score}/${maxScore}</td>
                <td style="color:#64748b; font-size:0.9em">${entry.date}</td>
            `;
            tbody.appendChild(tr);
        });
    }

</script>

</body>
</html>
